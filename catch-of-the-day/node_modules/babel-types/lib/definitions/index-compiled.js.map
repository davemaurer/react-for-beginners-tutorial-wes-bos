{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,UAAR,GAAqB,IAArB;AACA,QAAQ,eAAR,GAA0B,QAAQ,YAAR,GAAuB,QAAQ,WAAR,GAAsB,QAAQ,UAAR,GAAqB,QAAQ,YAAR,GAAuB,SAAnH;;AAEA,IAAI,gBAAgB,QAAQ,oCAAR,CAApB;;AAEA,IAAI,gBAAgB,uBAAuB,aAAvB,CAApB;;AAEA,IAAI,aAAa,QAAQ,sCAAR,CAAjB;;AAEA,IAAI,cAAc,uBAAuB,UAAvB,CAAlB;;AAEA,IAAI,WAAW,QAAQ,8BAAR,CAAf;;AAEA,IAAI,WAAW,uBAAuB,QAAvB,CAAf;;AAEA,QAAQ,UAAR,GAAqB,UAArB;AACA,QAAQ,WAAR,GAAsB,WAAtB;AACA,QAAQ,cAAR,GAAyB,cAAzB;AACA,QAAQ,qBAAR,GAAgC,qBAAhC;AACA,QAAQ,eAAR,GAA0B,eAA1B;AACA,QAAQ,KAAR,GAAgB,KAAhB;AACA,QAAQ,OAAR,GAAkB,UAAlB;;AAEA,IAAI,SAAS,QAAQ,UAAR,CAAb;;AAEA,IAAI,IAAI,wBAAwB,MAAxB,CAAR;;AAEA,SAAS,uBAAT,CAAiC,GAAjC,EAAsC;AAAE,MAAI,OAAO,IAAI,UAAf,EAA2B;AAAE,WAAO,GAAP;AAAa,GAA1C,MAAgD;AAAE,QAAI,SAAS,EAAb,CAAiB,IAAI,OAAO,IAAX,EAAiB;AAAE,WAAK,IAAI,GAAT,IAAgB,GAAhB,EAAqB;AAAE,YAAI,OAAO,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,GAArC,EAA0C,GAA1C,CAAJ,EAAoD,OAAO,GAAP,IAAc,IAAI,GAAJ,CAAd;AAAyB;AAAE,KAAC,OAAO,OAAP,GAAiB,GAAjB,CAAsB,OAAO,MAAP;AAAgB;AAAE;;AAE7Q,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,IAAI,eAAe,QAAQ,YAAR,GAAuB,EAA1C;AACA,IAAI,aAAa,QAAQ,UAAR,GAAqB,EAAtC;AACA,IAAI,cAAc,QAAQ,WAAR,GAAsB,EAAxC;AACA,IAAI,eAAe,QAAQ,YAAR,GAAuB,EAA1C;AACA,IAAI,kBAAkB,QAAQ,eAAR,GAA0B,EAAhD;;AAEA,SAAS,OAAT,CAAiB,GAAjB,EAAsB;AACpB,MAAI,MAAM,OAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,WAAO,OAAP;AACD,GAFD,MAEO,IAAI,QAAQ,IAAZ,EAAkB;AACvB,WAAO,MAAP;AACD,GAFM,MAEA,IAAI,QAAQ,SAAZ,EAAuB;AAC5B,WAAO,WAAP;AACD,GAFM,MAEA;AACL,WAAO,OAAO,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2C,CAAC,GAAG,SAAS,OAAb,EAAsB,GAAtB,CAAlD;AACD;AACF;;AAED,SAAS,UAAT,CAAoB,QAApB,EAA8B;AAC5B,WAAS,SAAT,CAAmB,IAAnB,EAAyB,GAAzB,EAA8B,GAA9B,EAAmC;AACjC,QAAI,CAAC,MAAM,OAAN,CAAc,GAAd,CAAL,EAAyB;;AAEzB,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,IAAI,MAAxB,EAAgC,GAAhC,EAAqC;AACnC,eAAS,IAAT,EAAe,MAAM,GAAN,GAAY,CAAZ,GAAgB,GAA/B,EAAoC,IAAI,CAAJ,CAApC;AACD;AACF;AACD,YAAU,IAAV,GAAiB,QAAjB;AACA,SAAO,SAAP;AACD;;AAED,SAAS,WAAT,GAAuB;AACrB,OAAK,IAAI,OAAO,UAAU,MAArB,EAA6B,OAAO,MAAM,IAAN,CAApC,EAAiD,OAAO,CAA7D,EAAgE,OAAO,IAAvE,EAA6E,MAA7E,EAAqF;AACnF,SAAK,IAAL,IAAa,UAAU,IAAV,CAAb;AACD;;AAED,WAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC;AAChC,QAAI,KAAK,OAAL,CAAa,GAAb,IAAoB,CAAxB,EAA2B;AACzB,YAAM,IAAI,SAAJ,CAAc,cAAc,GAAd,GAAoB,+BAApB,GAAsD,CAAC,GAAG,YAAY,OAAhB,EAAyB,IAAzB,CAAtD,GAAuF,WAAvF,GAAqG,CAAC,GAAG,YAAY,OAAhB,EAAyB,GAAzB,CAAnH,CAAN;AACD;AACF;;AAED,WAAS,KAAT,GAAiB,IAAjB;;AAEA,SAAO,QAAP;AACD;;AAED,SAAS,cAAT,GAA0B;AACxB,OAAK,IAAI,QAAQ,UAAU,MAAtB,EAA8B,QAAQ,MAAM,KAAN,CAAtC,EAAoD,QAAQ,CAAjE,EAAoE,QAAQ,KAA5E,EAAmF,OAAnF,EAA4F;AAC1F,UAAM,KAAN,IAAe,UAAU,KAAV,CAAf;AACD;;AAED,WAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC;AAChC,QAAI,QAAQ,KAAZ;;AAEA,SAAK,IAAI,YAAY,KAAhB,EAAuB,WAAW,MAAM,OAAN,CAAc,SAAd,CAAlC,EAA4D,KAAK,CAAjE,EAAoE,YAAY,WAAW,SAAX,GAAuB,CAAC,GAAG,cAAc,OAAlB,EAA2B,SAA3B,CAA5G,IAAqJ;AACnJ,UAAI,IAAJ;;AAEA,UAAI,QAAJ,EAAc;AACZ,YAAI,MAAM,UAAU,MAApB,EAA4B;AAC5B,eAAO,UAAU,IAAV,CAAP;AACD,OAHD,MAGO;AACL,aAAK,UAAU,IAAV,EAAL;AACA,YAAI,GAAG,IAAP,EAAa;AACb,eAAO,GAAG,KAAV;AACD;;AAED,UAAI,OAAO,IAAX;;AAEA,UAAI,EAAE,EAAF,CAAK,IAAL,EAAW,GAAX,CAAJ,EAAqB;AACnB,gBAAQ,IAAR;AACA;AACD;AACF;;AAED,QAAI,CAAC,KAAL,EAAY;AACV,YAAM,IAAI,SAAJ,CAAc,cAAc,GAAd,GAAoB,MAApB,GAA6B,KAAK,IAAlC,GAAyC,iCAAzC,GAA6E,CAAC,GAAG,YAAY,OAAhB,EAAyB,KAAzB,CAA7E,GAA+G,GAA/G,IAAsH,qBAAqB,CAAC,GAAG,YAAY,OAAhB,EAAyB,OAAO,IAAI,IAApC,CAA3I,CAAd,CAAN;AACD;AACF;;AAED,WAAS,cAAT,GAA0B,KAA1B;;AAEA,SAAO,QAAP;AACD;;AAED,SAAS,qBAAT,GAAiC;AAC/B,OAAK,IAAI,QAAQ,UAAU,MAAtB,EAA8B,QAAQ,MAAM,KAAN,CAAtC,EAAoD,QAAQ,CAAjE,EAAoE,QAAQ,KAA5E,EAAmF,OAAnF,EAA4F;AAC1F,UAAM,KAAN,IAAe,UAAU,KAAV,CAAf;AACD;;AAED,WAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC;AAChC,QAAI,QAAQ,KAAZ;;AAEA,SAAK,IAAI,aAAa,KAAjB,EAAwB,YAAY,MAAM,OAAN,CAAc,UAAd,CAApC,EAA+D,MAAM,CAArE,EAAwE,aAAa,YAAY,UAAZ,GAAyB,CAAC,GAAG,cAAc,OAAlB,EAA2B,UAA3B,CAAnH,IAA6J;AAC3J,UAAI,KAAJ;;AAEA,UAAI,SAAJ,EAAe;AACb,YAAI,OAAO,WAAW,MAAtB,EAA8B;AAC9B,gBAAQ,WAAW,KAAX,CAAR;AACD,OAHD,MAGO;AACL,cAAM,WAAW,IAAX,EAAN;AACA,YAAI,IAAI,IAAR,EAAc;AACd,gBAAQ,IAAI,KAAZ;AACD;;AAED,UAAI,OAAO,KAAX;;AAEA,UAAI,QAAQ,GAAR,MAAiB,IAAjB,IAAyB,EAAE,EAAF,CAAK,IAAL,EAAW,GAAX,CAA7B,EAA8C;AAC5C,gBAAQ,IAAR;AACA;AACD;AACF;;AAED,QAAI,CAAC,KAAL,EAAY;AACV,YAAM,IAAI,SAAJ,CAAc,cAAc,GAAd,GAAoB,MAApB,GAA6B,KAAK,IAAlC,GAAyC,iCAAzC,GAA6E,CAAC,GAAG,YAAY,OAAhB,EAAyB,KAAzB,CAA7E,GAA+G,GAA/G,IAAsH,qBAAqB,CAAC,GAAG,YAAY,OAAhB,EAAyB,OAAO,IAAI,IAApC,CAA3I,CAAd,CAAN;AACD;AACF;;AAED,WAAS,qBAAT,GAAiC,KAAjC;;AAEA,SAAO,QAAP;AACD;;AAED,SAAS,eAAT,CAAyB,IAAzB,EAA+B;AAC7B,WAAS,QAAT,CAAkB,IAAlB,EAAwB,GAAxB,EAA6B,GAA7B,EAAkC;AAChC,QAAI,QAAQ,QAAQ,GAAR,MAAiB,IAA7B;;AAEA,QAAI,CAAC,KAAL,EAAY;AACV,YAAM,IAAI,SAAJ,CAAc,cAAc,GAAd,GAAoB,oBAApB,GAA2C,IAA3C,GAAkD,WAAlD,GAAgE,QAAQ,GAAR,CAA9E,CAAN;AACD;AACF;;AAED,WAAS,IAAT,GAAgB,IAAhB;;AAEA,SAAO,QAAP;AACD;;AAED,SAAS,KAAT,GAAiB;AACf,OAAK,IAAI,QAAQ,UAAU,MAAtB,EAA8B,MAAM,MAAM,KAAN,CAApC,EAAkD,QAAQ,CAA/D,EAAkE,QAAQ,KAA1E,EAAiF,OAAjF,EAA0F;AACxF,QAAI,KAAJ,IAAa,UAAU,KAAV,CAAb;AACD;;AAED,WAAS,QAAT,GAAoB;AAClB,SAAK,IAAI,aAAa,GAAjB,EAAsB,YAAY,MAAM,OAAN,CAAc,UAAd,CAAlC,EAA6D,MAAM,CAAnE,EAAsE,aAAa,YAAY,UAAZ,GAAyB,CAAC,GAAG,cAAc,OAAlB,EAA2B,UAA3B,CAAjH,IAA2J;AACzJ,UAAI,KAAJ;;AAEA,UAAI,SAAJ,EAAe;AACb,YAAI,OAAO,WAAW,MAAtB,EAA8B;AAC9B,gBAAQ,WAAW,KAAX,CAAR;AACD,OAHD,MAGO;AACL,cAAM,WAAW,IAAX,EAAN;AACA,YAAI,IAAI,IAAR,EAAc;AACd,gBAAQ,IAAI,KAAZ;AACD;;AAED,UAAI,KAAK,KAAT;;AAEA,SAAG,KAAH,CAAS,SAAT,EAAoB,SAApB;AACD;AACF;AACD,WAAS,OAAT,GAAmB,GAAnB;AACA,SAAO,QAAP;AACD;;AAED,SAAS,UAAT,CAAoB,IAApB,EAA0B;AACxB,MAAI,OAAO,UAAU,MAAV,IAAoB,CAApB,IAAyB,UAAU,CAAV,MAAiB,SAA1C,GAAsD,EAAtD,GAA2D,UAAU,CAAV,CAAtE;;AAEA,MAAI,WAAW,KAAK,QAAL,IAAiB,MAAM,KAAK,QAAX,CAAjB,IAAyC,EAAxD;;AAEA,OAAK,MAAL,GAAc,KAAK,MAAL,IAAe,SAAS,MAAxB,IAAkC,EAAhD;AACA,OAAK,OAAL,GAAe,KAAK,OAAL,IAAgB,SAAS,OAAzB,IAAoC,EAAnD;AACA,OAAK,OAAL,GAAe,KAAK,OAAL,IAAgB,SAAS,OAAzB,IAAoC,EAAnD;AACA,OAAK,OAAL,GAAe,KAAK,OAAL,IAAgB,SAAS,OAAzB,IAAoC,KAAK,OAAzC,IAAoD,EAAnE;;AAEA,MAAI,KAAK,eAAT,EAA0B;AACxB,oBAAgB,KAAK,eAArB,IAAwC,IAAxC;AACD;;AAED;AACA,OAAK,IAAI,aAAa,KAAK,OAAL,CAAa,MAAb,CAAoB,KAAK,OAAzB,CAAjB,EAAoD,YAAY,MAAM,OAAN,CAAc,UAAd,CAAhE,EAA2F,MAAM,CAAjG,EAAoG,aAAa,YAAY,UAAZ,GAAyB,CAAC,GAAG,cAAc,OAAlB,EAA2B,UAA3B,CAA/I,IAAyL;AACvL,QAAI,KAAJ;;AAEA,QAAI,SAAJ,EAAe;AACb,UAAI,OAAO,WAAW,MAAtB,EAA8B;AAC9B,cAAQ,WAAW,KAAX,CAAR;AACD,KAHD,MAGO;AACL,YAAM,WAAW,IAAX,EAAN;AACA,UAAI,IAAI,IAAR,EAAc;AACd,cAAQ,IAAI,KAAZ;AACD;;AAED,QAAI,QAAQ,KAAZ;;AAEA,SAAK,MAAL,CAAY,KAAZ,IAAqB,KAAK,MAAL,CAAY,KAAZ,KAAsB,EAA3C;AACD;;AAED,OAAK,IAAI,GAAT,IAAgB,KAAK,MAArB,EAA6B;AAC3B,QAAI,QAAQ,KAAK,MAAL,CAAY,GAAZ,CAAZ;;AAEA,QAAI,KAAK,OAAL,CAAa,OAAb,CAAqB,GAArB,MAA8B,CAAC,CAAnC,EAAsC;AACpC,YAAM,QAAN,GAAiB,IAAjB;AACD;AACD,QAAI,MAAM,OAAN,KAAkB,SAAtB,EAAiC;AAC/B,YAAM,OAAN,GAAgB,IAAhB;AACD,KAFD,MAEO,IAAI,CAAC,MAAM,QAAX,EAAqB;AAC1B,YAAM,QAAN,GAAiB,gBAAgB,QAAQ,MAAM,OAAd,CAAhB,CAAjB;AACD;AACF;;AAED,eAAa,IAAb,IAAqB,KAAK,OAA1B;AACA,eAAa,IAAb,IAAqB,KAAK,OAA1B;AACA,cAAY,IAAZ,IAAoB,KAAK,MAAzB;AACA,aAAW,IAAX,IAAmB,KAAK,OAAxB;;AAEA,QAAM,IAAN,IAAc,IAAd;AACD;;AAED,IAAI,QAAQ,EAAZ","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.DEPRECATED_KEYS = exports.BUILDER_KEYS = exports.NODE_FIELDS = exports.ALIAS_KEYS = exports.VISITOR_KEYS = undefined;\n\nvar _getIterator2 = require(\"babel-runtime/core-js/get-iterator\");\n\nvar _getIterator3 = _interopRequireDefault(_getIterator2);\n\nvar _stringify = require(\"babel-runtime/core-js/json/stringify\");\n\nvar _stringify2 = _interopRequireDefault(_stringify);\n\nvar _typeof2 = require(\"babel-runtime/helpers/typeof\");\n\nvar _typeof3 = _interopRequireDefault(_typeof2);\n\nexports.assertEach = assertEach;\nexports.assertOneOf = assertOneOf;\nexports.assertNodeType = assertNodeType;\nexports.assertNodeOrValueType = assertNodeOrValueType;\nexports.assertValueType = assertValueType;\nexports.chain = chain;\nexports.default = defineType;\n\nvar _index = require(\"../index\");\n\nvar t = _interopRequireWildcard(_index);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar VISITOR_KEYS = exports.VISITOR_KEYS = {};\nvar ALIAS_KEYS = exports.ALIAS_KEYS = {};\nvar NODE_FIELDS = exports.NODE_FIELDS = {};\nvar BUILDER_KEYS = exports.BUILDER_KEYS = {};\nvar DEPRECATED_KEYS = exports.DEPRECATED_KEYS = {};\n\nfunction getType(val) {\n  if (Array.isArray(val)) {\n    return \"array\";\n  } else if (val === null) {\n    return \"null\";\n  } else if (val === undefined) {\n    return \"undefined\";\n  } else {\n    return typeof val === \"undefined\" ? \"undefined\" : (0, _typeof3.default)(val);\n  }\n}\n\nfunction assertEach(callback) {\n  function validator(node, key, val) {\n    if (!Array.isArray(val)) return;\n\n    for (var i = 0; i < val.length; i++) {\n      callback(node, key + \"[\" + i + \"]\", val[i]);\n    }\n  }\n  validator.each = callback;\n  return validator;\n}\n\nfunction assertOneOf() {\n  for (var _len = arguments.length, vals = Array(_len), _key = 0; _key < _len; _key++) {\n    vals[_key] = arguments[_key];\n  }\n\n  function validate(node, key, val) {\n    if (vals.indexOf(val) < 0) {\n      throw new TypeError(\"Property \" + key + \" expected value to be one of \" + (0, _stringify2.default)(vals) + \" but got \" + (0, _stringify2.default)(val));\n    }\n  }\n\n  validate.oneOf = vals;\n\n  return validate;\n}\n\nfunction assertNodeType() {\n  for (var _len2 = arguments.length, types = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    types[_key2] = arguments[_key2];\n  }\n\n  function validate(node, key, val) {\n    var valid = false;\n\n    for (var _iterator = types, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : (0, _getIterator3.default)(_iterator);;) {\n      var _ref;\n\n      if (_isArray) {\n        if (_i >= _iterator.length) break;\n        _ref = _iterator[_i++];\n      } else {\n        _i = _iterator.next();\n        if (_i.done) break;\n        _ref = _i.value;\n      }\n\n      var type = _ref;\n\n      if (t.is(type, val)) {\n        valid = true;\n        break;\n      }\n    }\n\n    if (!valid) {\n      throw new TypeError(\"Property \" + key + \" of \" + node.type + \" expected node to be of a type \" + (0, _stringify2.default)(types) + \" \" + (\"but instead got \" + (0, _stringify2.default)(val && val.type)));\n    }\n  }\n\n  validate.oneOfNodeTypes = types;\n\n  return validate;\n}\n\nfunction assertNodeOrValueType() {\n  for (var _len3 = arguments.length, types = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    types[_key3] = arguments[_key3];\n  }\n\n  function validate(node, key, val) {\n    var valid = false;\n\n    for (var _iterator2 = types, _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : (0, _getIterator3.default)(_iterator2);;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var type = _ref2;\n\n      if (getType(val) === type || t.is(type, val)) {\n        valid = true;\n        break;\n      }\n    }\n\n    if (!valid) {\n      throw new TypeError(\"Property \" + key + \" of \" + node.type + \" expected node to be of a type \" + (0, _stringify2.default)(types) + \" \" + (\"but instead got \" + (0, _stringify2.default)(val && val.type)));\n    }\n  }\n\n  validate.oneOfNodeOrValueTypes = types;\n\n  return validate;\n}\n\nfunction assertValueType(type) {\n  function validate(node, key, val) {\n    var valid = getType(val) === type;\n\n    if (!valid) {\n      throw new TypeError(\"Property \" + key + \" expected type of \" + type + \" but got \" + getType(val));\n    }\n  }\n\n  validate.type = type;\n\n  return validate;\n}\n\nfunction chain() {\n  for (var _len4 = arguments.length, fns = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    fns[_key4] = arguments[_key4];\n  }\n\n  function validate() {\n    for (var _iterator3 = fns, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : (0, _getIterator3.default)(_iterator3);;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var fn = _ref3;\n\n      fn.apply(undefined, arguments);\n    }\n  }\n  validate.chainOf = fns;\n  return validate;\n}\n\nfunction defineType(type) {\n  var opts = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\n  var inherits = opts.inherits && store[opts.inherits] || {};\n\n  opts.fields = opts.fields || inherits.fields || {};\n  opts.visitor = opts.visitor || inherits.visitor || [];\n  opts.aliases = opts.aliases || inherits.aliases || [];\n  opts.builder = opts.builder || inherits.builder || opts.visitor || [];\n\n  if (opts.deprecatedAlias) {\n    DEPRECATED_KEYS[opts.deprecatedAlias] = type;\n  }\n\n  // ensure all field keys are represented in `fields`\n  for (var _iterator4 = opts.visitor.concat(opts.builder), _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : (0, _getIterator3.default)(_iterator4);;) {\n    var _ref4;\n\n    if (_isArray4) {\n      if (_i4 >= _iterator4.length) break;\n      _ref4 = _iterator4[_i4++];\n    } else {\n      _i4 = _iterator4.next();\n      if (_i4.done) break;\n      _ref4 = _i4.value;\n    }\n\n    var _key5 = _ref4;\n\n    opts.fields[_key5] = opts.fields[_key5] || {};\n  }\n\n  for (var key in opts.fields) {\n    var field = opts.fields[key];\n\n    if (opts.builder.indexOf(key) === -1) {\n      field.optional = true;\n    }\n    if (field.default === undefined) {\n      field.default = null;\n    } else if (!field.validate) {\n      field.validate = assertValueType(getType(field.default));\n    }\n  }\n\n  VISITOR_KEYS[type] = opts.visitor;\n  BUILDER_KEYS[type] = opts.builder;\n  NODE_FIELDS[type] = opts.fields;\n  ALIAS_KEYS[type] = opts.aliases;\n\n  store[type] = opts;\n}\n\nvar store = {};"]}